<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>cCXF</title><meta name="generator" content="DocBook XSL-NS Stylesheets V1.75.2"><link rel="home" href="bk-tos-esb-mediationcomponents-rg-fr..html" title="Talend Open Studio"><link rel="up" href="ch-messaging.html" title="Chapitre&nbsp;3.&nbsp;Composants Messaging"><link rel="prev" href="ch-messaging.html" title="Chapitre&nbsp;3.&nbsp;Composants Messaging"><link rel="next" href="cDataset.html" title="cDataset"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">cCXF</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch-messaging.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><th width="60%" align="center">Chapitre&nbsp;3.&nbsp;Composants Messaging</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="cDataset.html">Suivant</a></td></tr></table><hr></div><div lang="fr" class="section" title="cCXF"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="cCXF"></a>cCXF</h2></div></div></div><div class="mediaobject"><img src="../images/ccxf_icon32_white.png"></div><div class="section" title="Propri&eacute;t&eacute;s du cCXF"><div class="titlepage"><div><div><h3 class="title"><a name="d0e2917"></a>Propri&eacute;t&eacute;s du cCXF</h3></div></div></div><div class="informaltable"><table border="1"><colgroup><col><col><col></colgroup><tbody><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Famille de composant</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Messaging</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Fonction</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Le composant <span class="emphasis"><strong>cCXF</strong></span> fournit l'int&eacute;gration avec Apache
								CXF pour la connexion aux services JAX-WS. </p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Objectif</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Le <span class="emphasis"><strong>cCXF</strong></span> est utilis&eacute; pour produire ou consommer des
								services Web.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Basic settings</strong></span>
							</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>CXF Configuration/Address</em></span>
							</p>
						</td><td valign="top">
							<p>URL de l'endpoint du service o&ugrave; le service Web est fourni.</p>
							<p>Si le cCXF est utilis&eacute; pour consommer un service Web et que le
								lookup de l'endpoint utilise le Service Locator (si la case
									<span class="emphasis"><strong>Use Service Locator</strong></span> est
								coch&eacute;e), l'URL doit &ecirc;tre
								<code class="code">"locator://anyAddress/"</code>.</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>CXF Configuration/Type</em></span>
							</p>
						</td><td valign="top">
							<p>S&eacute;lectionnez le type que vous souhaitez utiliser pour fournir le service Web entre
									<span class="emphasis"><strong>wsdlURL</strong></span> et <span class="emphasis"><strong>serviceClass</strong></span>.</p>
							<p><span class="emphasis"><strong>wsdlURL</strong></span> : S&eacute;lectionnez ce type pour fournir le service
								Web &agrave; partir d'un fichier WSDL. S&eacute;lectionnez <span class="emphasis"><strong>Repository</strong></span> ou <span class="emphasis"><strong>File</strong></span>
								pour fournir le service Web &agrave; partir d'une ressource de Route ou du
								syst&egrave;me de fichiers.</p>
							<p><span class="emphasis"><strong>serviceClass</strong></span> : S&eacute;lectionnez ce type pour fournir le
								service Web &agrave; partir d'une classe Java SEI (Service Endpoint
								Interface).</p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>CXF Configuration/WSDL File</em></span>
							</p>
						</td><td valign="top">
							<p>Ce champ s'affiche lorsque le type de service <span class="emphasis"><strong>wsdlURL</strong></span>
								est s&eacute;lectionn&eacute;. Si le fichier WSDL se trouve dans le syst&egrave;me de
								fichiers, parcourez votre syst&egrave;me ou saisissez le chemin d'acc&egrave;s &agrave;
								votre fichier WSDL. S'il provient d'une ressource de Route, cliquez
								sur le bouton <span class="emphasis"><strong>[...]</strong></span> et s&eacute;lectionnez
								la ressource dans l'arborescence. La liste <span class="emphasis"><strong>Version</strong></span> appara&icirc;t et vous permet de s&eacute;lectionner une
								version parmi toutes celles de la ressource de Route. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>CXF Configuration/Service Class</em></span>
							</p>
						</td><td valign="top">
							<p>Ce champ s'affiche lorsque le type de service <span class="emphasis"><strong>serviceClass</strong></span> est s&eacute;lectionn&eacute;. Saisissez le nom de la
								classe du service &agrave; utiliser pour fournir le service Web. </p>
						</td></tr><tr><td>
							<p>&nbsp;</p>
						</td><td valign="top">
							<p>
								<span class="emphasis"><em>CXF Configuration/Dataformat</em></span>
							</p>
						</td><td valign="top">
							<p>Style d'&eacute;change des donn&eacute;es. <span class="emphasis"><strong>MESSAGE</strong></span>, <span class="emphasis"><strong>PAYLOAD</strong></span>, ou <span class="emphasis"><strong>POJO</strong></span>.</p>
							<p><span class="emphasis"><strong>MESSAGE</strong></span> : message brut re&ccedil;u de la couche de transport. </p>
							<p><span class="emphasis"><strong>PAYLOAD</strong></span> : charge utile du message (payload), contenu
								de <code class="code">soap:body</code>. </p>
							<p><span class="emphasis"><strong>POJOs</strong></span> : (Plain Old Java Objects) param&egrave;tres Java de la
								m&eacute;thode invoqu&eacute;e sur le serveur cible. </p>
						</td></tr><tr><td>&nbsp;</td><td valign="top">
							<span class="emphasis"><em>Service</em></span>
						</td><td valign="top">Cochez cette case pour sp&eacute;cifier le port du service. Cette option est
							particuli&egrave;rement utile lorsqu'il y a des ports multiservice dans le WSDL
							ou dans la classe du service.</td></tr><tr><td>&nbsp;</td><td valign="top">
							<span class="emphasis"><em>Service Name</em></span>
						</td><td valign="top">Nom du service que ce service impl&eacute;mente. Il mappe vers
								<code class="code">wsdl:service@name</code> au format
								<code class="code">ns:SERVICE_NAME</code> o&ugrave; <code class="code">ns</code> est l'espace de
							nommage du service. </td></tr><tr><td>&nbsp;</td><td valign="top">
							<span class="emphasis"><em>Port Name</em></span>
						</td><td valign="top">Nom de l'endpoint que ce service impl&eacute;mente. Il mappe vers
								<code class="code">wsdl:port@name</code>, au format <code class="code">ns:PORT_NAME</code> o&ugrave;
								<code class="code">ns</code> est l'espace de nommage du service. </td></tr><tr><td>&nbsp;</td><td valign="top">
							<span class="emphasis"><em>ESB Features/Use Service Locator</em></span></td><td valign="top"><p>Fournit aux consommateurs de services un m&eacute;canisme pour d&eacute;couvrir les endpoints de service
								lors de l'ex&eacute;cution sans sp&eacute;cifier l'emplacement physique de
								l'endpoint. De plus, cela permet aux fournisseurs de services
								d'enregistrer et de supprimer du registre leurs endpoints de
								services dans le Service Locator.</p><div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Pour les consommateurs de services, l'URL doit &ecirc;tre
										configur&eacute;e comme <code class="code">"locator://anyAddress/"</code> dans
										le champ <span class="emphasis"><strong>CXF Configuration /
											Address</strong></span>.</p></div>
							<p>La table <span class="emphasis"><strong>Custom Properties</strong></span> appara&icirc;t lorsque la case
									<span class="emphasis"><strong>Use Service Locator</strong></span> est coch&eacute;e.
								Cliquez sur le bouton <span class="inlinemediaobject"><img src="../images/plus_button.png"></span> pour ajouter autant de propri&eacute;t&eacute;s que
								n&eacute;cessaire dans la table. Saisissez le nom et la valeur de chaque
								propri&eacute;t&eacute;, respectivement dans les champs <span class="emphasis"><strong>Property Name</strong></span> et <span class="emphasis"><strong>Property
									Value</strong></span>, afin d'identifier le service. Pour plus
								d'informations concernant l'installation et la configuration du
								Service Locator, consultez le Guide <span class="emphasis"><em>Talend ESB Runtime
									Configuration Guide</em></span> (en anglais).</p></td></tr><tr><td>&nbsp;</td><td valign="top"><span class="emphasis"><em>ESB Features/Use Service Activity Monitor
							</em></span></td><td valign="top">
							<p>Capture les &eacute;v&eacute;nements et stocke les informations pour faciliter les analyses en
								profondeur de l'activit&eacute; des services ainsi que suivre et tracer des
								messages via une transaction m&eacute;tier. Cette option peut &ecirc;tre utilis&eacute;e
								pour analyser les temps de r&eacute;ponse des services, identifier les
								mod&egrave;les de transport, identifier les messages en entr&eacute;e et en sortie
								des services et analyser les causes &eacute;ventuelles de l'&eacute;chec des
								appels du service, par exemple.</p>
							<div class="note" title="Note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Cette fonctionnalit&eacute; n'est pas support&eacute;e lorsque le mode de traitement utilis&eacute; est
										<span class="emphasis"><strong>MESSAGE</strong></span>. Quand l'option
										<span class="emphasis"><strong>MESSAGE</strong></span> est s&eacute;lectionn&eacute;e
									dans le champ <span class="emphasis"><strong>Dataformat</strong></span>, la
									case <span class="emphasis"><strong>Use Service Activity
										Monitor</strong></span> est d&eacute;coch&eacute;e.</p></div>
						</td></tr><tr><td>
							<span class="emphasis"><strong>Advanced settings</strong></span>
						</td><td valign="top">
							<span class="emphasis"><em>Arguments</em></span>
						</td><td valign="top">Configurez les arguments facultatifs dans la table correspondante. Cliquez
							sur le bouton <span class="emphasis"><strong>[+]</strong></span> autant de fois que
							n&eacute;cessaire pour ajouter des arguments &agrave; la table. Cliquez ensuite sur le
							champ <span class="emphasis"><strong>Value</strong></span> correspondant pour saisir
							une valeur. Consultez le site <a class="link" href="http://camel.apache.org/cxf.html" target="_top">http://camel.apache.org/cxf.html</a> (en anglais) pour voir les
							options d'URI disponibles.</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Utilisation</strong></span>
							</p>
						</td><td colspan="2" valign="top">
							<p>Le composant <span class="emphasis"><strong>cCXF</strong></span> peut &ecirc;tre un composant de d&eacute;but, un
								composant interm&eacute;diaire ou un composant de fin dans une
								Route.</p>
						</td></tr><tr><td valign="top">
							<p>
								<span class="emphasis"><strong>Limitation</strong></span>
							</p>
						</td><td colspan="2">
							<p>L'utilisation de plusieurs composants <span class="emphasis"><strong>cCXF</strong></span> ayant le
								m&ecirc;me nom dans une route n'est pas support&eacute;e.</p>
						</td></tr></tbody></table></div></div><div class="section" title="Sc&eacute;nario&nbsp;1 : Fournir un service Web via le cCXF depuis un fichier WSDL"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3309"></a>Sc&eacute;nario&nbsp;1 : Fournir un service Web via le cCXF depuis un fichier WSDL</h3></div></div></div><p>Dans ce sc&eacute;nario, un service Web est produit par un composant <span class="emphasis"><strong>cCXF</strong></span> &agrave; l'aide d'un fichier WSDL.</p><div class="mediaobject"><img src="../images/use_case_ccxf1.png"></div><div class="section" title="D&eacute;poser et relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3320"></a>D&eacute;poser et relier les composants</h4></div></div></div><p>Ce sc&eacute;nario utilise un composant <span class="emphasis"><strong>cCXF</strong></span> et un <span class="emphasis"><strong>cProcessor</strong></span>.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Dans la <span class="emphasis"><strong>Palette</strong></span>, d&eacute;veloppez le dossier <span class="emphasis"><strong>Messaging</strong></span>, s&eacute;lectionnez le composant <span class="emphasis"><strong>cCXF</strong></span> et d&eacute;posez-le dans l'espace de mod&eacute;lisation
						graphique.</p></li><li class="step" title="&Eacute;tape 2"><p>D&eacute;veloppez le dossier <span class="emphasis"><strong>Processor</strong></span>, s&eacute;lectionnez le
						composant <span class="emphasis"><strong>cProcessor</strong></span> et d&eacute;posez-le dans
						l'espace de mod&eacute;lisation graphique.</p></li><li class="step" title="&Eacute;tape 3"><p>Cliquez-droit sur le composant <span class="emphasis"><strong>cCXF</strong></span>, s&eacute;lectionnez
							<span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Route</strong></span> dans le menu contextuel et cliquez sur le composant
							<span class="emphasis"><strong>cProcessor</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Nommez le composant <span class="emphasis"><strong>cCXF</strong></span> afin de mieux identifier sa
						fonctionnalit&eacute;.</p></li></ol></div></div><div class="section" title="Configurer les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3374"></a>Configurer les composants</h4></div></div></div><p>Dans ce sc&eacute;nario, le composant <span class="emphasis"><strong>cProcessor</strong></span> est utilis&eacute;
				uniquement pour activer le <span class="emphasis"><strong>cCXF</strong></span>, pour qu'il
				fonctionne comme un producteur de service. Il ne n&eacute;cessite donc aucune
				configuration.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="emphasis"><strong>cCXF</strong></span> pour afficher sa
						vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_ccxf2.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Dans le champ <span class="emphasis"><strong>Address</strong></span>, saisissez l'URL de l'endpoint du
						service pour le service Web &agrave; fournir, <span class="emphasis"><em>http://192.168.0.212:8000/service.endpoint</em></span> dans cet
						exemple.</p></li><li class="step" title="&Eacute;tape 3"><p>Dans la liste <span class="emphasis"><strong>Type</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>wsdlURL</strong></span> pour activer la production du service Web &agrave; partir
						d'un fichier WSDL.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="emphasis"><strong>Wsdl File</strong></span>, parcourez votre syst&egrave;me ou
						saisissez le chemin d'acc&egrave;s au fichier WSDL &agrave; utiliser. </p></li><li class="step" title="&Eacute;tape 5"><p>Dans la liste <span class="emphasis"><strong>Dataformat</strong></span>, s&eacute;lectionnez le mode <span class="emphasis"><strong>PAYLOAD</strong></span>.</p></li><li class="step" title="&Eacute;tape 6"><p>Appuyez sur <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre route.</p></li></ol></div></div><div class="section" title="Visualiser du code et ex&eacute;cuter la Route"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3437"></a>Visualiser du code et ex&eacute;cuter la Route</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Cliquez sur l'onglet <span class="emphasis"><strong>Code</strong></span> au bas de l'espace de
						mod&eacute;lisation graphique pour visualiser le code g&eacute;n&eacute;r&eacute;.</p><div class="mediaobject"><img src="../images/use_case_ccxf3.png"></div><p>Comme affich&eacute; dans le code, le composant <span class="emphasis"><strong>cCXF</strong></span> nomm&eacute;
							<span class="emphasis"><em>WebService_producer</em></span> produit le
						service Web &agrave; partir d'un fichier d'entr&eacute;e
							<code class="code">airport_soap_route.wsdl</code> &agrave; l'aide de l'URL de l'endpoint
							<code class="code">http://192.168.0.212:8000/service.endpoint</code>.</p></li><li class="step" title="&Eacute;tape 2"><p>Cliquez sur la vue <span class="emphasis"><strong>Run</strong></span> pour l'afficher et cliquez sur le
						bouton <span class="emphasis"><strong>Run</strong></span> pour lancer l'ex&eacute;cution de votre
						Route. Vous pouvez &eacute;galement appuyer sur <span class="emphasis"><strong>F6</strong></span>
						pour l'ex&eacute;cuter. </p><p>R&eacute;sultat : Le service est d&eacute;marr&eacute; avec succ&egrave;s. Vous pouvez y acc&eacute;der depuis un navigateur
						Web en utilisant l'URL de l'endpoint du service suivie de
						<code class="code">?wsdl</code>. </p><div class="mediaobject"><img src="../images/use_case_ccxf4.png"></div></li></ol></div></div></div><div class="section" title="Sc&eacute;nario&nbsp;2 : Fournir un service Web via un cCXF &agrave; partir d'une classe Java"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3484"></a>Sc&eacute;nario&nbsp;2 : Fournir un service Web via un cCXF &agrave; partir d'une classe Java</h3></div></div></div><p>Dans ce sc&eacute;nario, un service Web est fourni par un fichier de classe Java &agrave; l'aide d'un
			composant <span class="emphasis"><strong>cCXF</strong></span>.</p><div class="section" title="Cr&eacute;er une classe Java"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3492"></a>Cr&eacute;er une classe Java</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Dans la vue <span class="emphasis"><strong>Repository</strong></span>, d&eacute;veloppez le n&#339;ud <span class="emphasis"><strong>Code</strong></span> et cliquez-droit sur le n&#339;ud <span class="emphasis"><strong>Beans</strong></span>. Dans le menu contextuel, s&eacute;lectionnez
							<span class="emphasis"><strong>Create Bean</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_ccxf5.png"></div></li><li class="step" title="&Eacute;tape 2"><p>L'assistant <span class="emphasis"><strong>[New Bean]</strong></span> s'ouvre. Dans le champ <span class="emphasis"><strong>Name</strong></span>, saisissez un nom pour le bean, par exemple,
							<span class="emphasis"><em>CXFdemobean</em></span>. Cliquez sur <span class="emphasis"><strong>Finish</strong></span> pour fermer l'assistant.</p><div class="mediaobject"><img src="../images/use_case_ccxf6.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Changez le type de classe en <code class="code">interface</code>, modifiez le type de retour en
							<code class="code">string</code> et supprimer le corps du message.</p><p>
						</p><pre class="programlisting">package beans;

public interface CXFdemobean {
    public String helloExample(String message) ;
}</pre><p>
					</p></li><li class="step" title="&Eacute;tape 4"><p>Appuyez sur <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre bean.</p></li></ol></div></div><div class="section" title="D&eacute;poser et relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3552"></a>D&eacute;poser et relier les composants</h4></div></div></div><div class="mediaobject"><img src="../images/use_case_ccxf1.png"></div><p>Ce sc&eacute;nario utilise un composant <span class="emphasis"><strong>cCXF</strong></span>
				et un <span class="emphasis"><strong>cProcessor</strong></span>.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Dans la <span class="emphasis"><strong>Palette</strong></span>, d&eacute;veloppez le dossier <span class="emphasis"><strong>Messaging</strong></span>, s&eacute;lectionnez le composant <span class="emphasis"><strong>cCXF</strong></span> et d&eacute;posez-le dans l'espace de mod&eacute;lisation
						graphique.</p></li><li class="step" title="&Eacute;tape 2"><p>D&eacute;veloppez le dossier <span class="emphasis"><strong>Processor</strong></span>, s&eacute;lectionnez le
						composant <span class="emphasis"><strong>cProcessor</strong></span> et d&eacute;posez-le dans
						l'espace de mod&eacute;lisation graphique.</p></li><li class="step" title="&Eacute;tape 3"><p>Cliquez-droit sur le <span class="emphasis"><strong>cCXF</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Route</strong></span>
						dans le menu contextuel et cliquez sur le <span class="emphasis"><strong>cProcessor</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Nommez les composants comme vous le souhaitez pour mieux identifier leur fonction.</p></li></ol></div></div><div class="section" title="Configurer les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3606"></a>Configurer les composants</h4></div></div></div><p>Dans ce sc&eacute;nario, le composant <span class="emphasis"><strong>cProcessor</strong></span> est utilis&eacute;
				uniquement pour activer le <span class="emphasis"><strong>cCXF</strong></span> afin qu'il
				fonctionne comme un producteur de service. Il ne n&eacute;cessite donc aucune
				configuration.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="emphasis"><strong>cCXF</strong></span> pour afficher sa
						vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_ccxf8.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Dans le champ <span class="emphasis"><strong>Address</strong></span>, saisissez l'URL de l'endpoint du
						service pour le service Web &agrave; fournir, <span class="emphasis"><em>http://192.168.0.212:8001/service.endpoint</em></span> dans cet
						exemple.</p></li><li class="step" title="&Eacute;tape 3"><p>Dans la liste <span class="emphasis"><strong>Type</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>serviceClass</strong></span> pour d&eacute;marrer le service Web &agrave; partir d'une
						classe Java.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="emphasis"><strong>Service Class</strong></span>, sp&eacute;cifiez la classe
						pr&eacute;d&eacute;finie du bean, <span class="emphasis"><em>CXFdemobean</em></span> dans cet
						exemple. </p></li><li class="step" title="&Eacute;tape 5"><p>Dans la liste <span class="emphasis"><strong>Dataformat</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>POJO</strong></span> comme format des donn&eacute;es du service.</p></li><li class="step" title="&Eacute;tape 6"><p>Appuyez sur <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre Route.</p></li></ol></div></div><div class="section" title="Visualiser du code et ex&eacute;cuter la Route"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3672"></a>Visualiser du code et ex&eacute;cuter la Route</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Cliquez sur l'onglet <span class="emphasis"><strong>Code</strong></span> au bas de l'espace de
						mod&eacute;lisation graphique pour visualiser le code g&eacute;n&eacute;r&eacute;.</p><div class="mediaobject"><img src="../images/use_case_ccxf9.png"></div><p>Comme affich&eacute; dans le code, le composant <span class="emphasis"><strong>cCXF</strong></span> nomm&eacute;
							<span class="emphasis"><em>WebService_producer</em></span> produit le
						service Web &agrave; partir d'un bean pr&eacute;d&eacute;fini <code class="code">beans.CXFdemobean</code> &agrave;
						l'aide de l'URL de l'endpoint
							<code class="code">http://192.168.0.212:8001/service.endpoint</code>. </p></li><li class="step" title="&Eacute;tape 2"><p>Cliquez sur la vue <span class="emphasis"><strong>Run</strong></span> pour l'afficher et cliquez sur le
						bouton <span class="emphasis"><strong>Run</strong></span> pour lancer l'ex&eacute;cution de votre
						Route. Vous pouvez &eacute;galement appuyer sur <span class="emphasis"><strong>F6</strong></span>
						pour l'ex&eacute;cuter. </p><p>R&eacute;sultat : Le service est d&eacute;marr&eacute; avec succ&egrave;s. Vous pouvez y acc&eacute;der via un navigateur
						Web &agrave; l'aide de l'URL de l'endpoint du service, suivie de
						<code class="code">?wsdl</code>. </p><div class="mediaobject"><img src="../images/use_case_ccxf10.png"></div></li></ol></div></div></div><div class="section" title="Sc&eacute;nario&nbsp;3 : Fournir un service Web &agrave; partir d'une ressource de Route"><div class="titlepage"><div><div><h3 class="title"><a name="d0e3719"></a>Sc&eacute;nario&nbsp;3 : Fournir un service Web &agrave; partir d'une ressource de Route</h3></div></div></div><p>Dans ce sc&eacute;nario, un service Web est fourni &agrave; partir d'une ressource de Route, &agrave; l'aide d'un
			composant <span class="emphasis"><strong>cCXF</strong></span>.</p><div class="section" title="Cr&eacute;er une ressource de Route"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3727"></a>Cr&eacute;er une ressource de Route</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p> Dans la vue <span class="emphasis"><strong>Repository</strong></span>, cliquez-droit sur le n&#339;ud
							<span class="emphasis"><strong>Resources</strong></span> et s&eacute;lectionnez <span class="emphasis"><strong>Create Resource</strong></span> dans le menu contextuel.</p><div class="mediaobject"><img src="../images/use_case_ccxf12.png"></div></li><li class="step" title="&Eacute;tape 2"><p>L'assistant <span class="emphasis"><strong>New Route Resource</strong></span> s'ouvre. Dans le champ
							<span class="emphasis"><strong>Name</strong></span>, saisissez un nom pour la
						ressource, par exemple, <span class="emphasis"><em>DemoServiceWsdl</em></span>. Cliquez sur
							<span class="emphasis"><strong>Finish</strong></span> pour fermer l'assistant.</p><div class="mediaobject"><img src="../images/use_case_ccxf13.png"></div></li><li class="step" title="&Eacute;tape 3"><p>Parcourez votre syst&egrave;me de fichiers local jusqu'&agrave; un fichier WSDL existant et cliquez sur
							<span class="emphasis"><strong>Finish</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Appuyez sur les touches <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre
						ressource de Route.</p></li></ol></div></div><div class="section" title="D&eacute;poser et relier les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3776"></a>D&eacute;poser et relier les composants</h4></div></div></div><div class="mediaobject"><img src="../images/use_case_ccxf1.png"></div><p>Ce sc&eacute;nario n&eacute;cessite un composant <span class="emphasis"><strong>cCXF</strong></span> et un <span class="emphasis"><strong>cProcessor</strong></span>.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Dans la <span class="emphasis"><strong>Palette</strong></span>, d&eacute;veloppez le dossier <span class="emphasis"><strong>Messaging</strong></span>, et d&eacute;posez un composant <span class="emphasis"><strong>cCXF</strong></span> dans l'espace de mod&eacute;lisation
						graphique.</p></li><li class="step" title="&Eacute;tape 2"><p>D&eacute;veloppez le dossier <span class="emphasis"><strong>Processor</strong></span> et d&eacute;posez un <span class="emphasis"><strong>cProcessor</strong></span> dans l'espace de mod&eacute;lisation
						graphique.</p></li><li class="step" title="&Eacute;tape 3"><p>Cliquez-droit sur le composant <span class="emphasis"><strong>cCXF</strong></span>, s&eacute;lectionnez
							<span class="emphasis"><strong>Row</strong></span> &gt; <span class="emphasis"><strong>Route</strong></span> dans le menu contextuel et cliquez sur le <span class="emphasis"><strong>cProcessor</strong></span>.</p></li><li class="step" title="&Eacute;tape 4"><p>Renommez le composant <span class="emphasis"><strong>cCXF</strong></span> afin de mieux identifier son
						r&ocirc;le dans la Route.</p></li></ol></div></div><div class="section" title="Configurer les composants"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3833"></a>Configurer les composants</h4></div></div></div><p>Dans ce sc&eacute;nario, le composant <span class="emphasis"><strong>cProcessor</strong></span> est utilis&eacute;
				uniquement afin de faire fonctionner le composant <span class="emphasis"><strong>cCXF</strong></span> comme un producteur de service. Aucune configuration n'est donc
				n&eacute;cessaire.</p><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Double-cliquez sur le composant <span class="emphasis"><strong>cCXF</strong></span> pour afficher sa
						vue <span class="emphasis"><strong>Basic settings</strong></span>.</p><div class="mediaobject"><img src="../images/use_case_ccxf14.png"></div></li><li class="step" title="&Eacute;tape 2"><p>Dans le champ <span class="emphasis"><strong>Address</strong></span>, saisissez l'URL de l'endpoint du
						service pour le service Web &agrave; fournir, <span class="emphasis"><em>http://localhost:8000/service.endpoint</em></span> dans cet
						exemple.</p></li><li class="step" title="&Eacute;tape 3"><p>Dans la liste <span class="emphasis"><strong>Type</strong></span>, s&eacute;lectionnez <span class="emphasis"><strong>wsdlURl</strong></span> et utilisez le type <span class="emphasis"><strong>Repository</strong></span> pour d&eacute;marrer le service Web &agrave; partir de la
						ressource de Route cr&eacute;&eacute;e.</p></li><li class="step" title="&Eacute;tape 4"><p>Dans le champ <span class="emphasis"><strong>WSDL File</strong></span>, cliquez sur le bouton <span class="emphasis"><strong>[...]</strong></span> et s&eacute;lectionnez <span class="emphasis"><em>DemoServiceWsdl</em></span> dans l'arborescence des ressources. Cliquez
						sur <span class="emphasis"><strong>OK</strong></span> pour fermer l'assistant.</p></li><li class="step" title="&Eacute;tape 5"><p>Appuyez sur les touches <span class="emphasis"><strong>Ctrl+S</strong></span> pour sauvegarder votre
						Route.</p></li></ol></div></div><div class="section" title="Visualiser le code et ex&eacute;cuter la Route"><div class="titlepage"><div><div><h4 class="title"><a name="d0e3899"></a>Visualiser le code et ex&eacute;cuter la Route</h4></div></div></div><div class="procedure"><ol class="procedure" type="1"><li class="step" title="&Eacute;tape 1"><p>Cliquez sur l'onglet <span class="emphasis"><strong>Code</strong></span> au bas de l'espace de
						mod&eacute;lisation graphique pour  visualiser le code g&eacute;n&eacute;r&eacute;.</p><div class="mediaobject"><img src="../images/use_case_ccxf15.png"></div><p>Comme affich&eacute; dans le code, le composant <span class="emphasis"><strong>cCXF</strong></span> nomm&eacute;
							<code class="code">WebService_producer</code> produit le service Web &agrave; partir d'une
						ressource de Route pr&eacute;d&eacute;finie <code class="code">DemoServiceWsdl</code>, &agrave; l'aide de
						l'URL de l'endpoint <code class="code">http://localhost:8000/service.endpoint</code>. </p></li><li class="step" title="&Eacute;tape 2"><p>Cliquez sur la vue <span class="emphasis"><strong>Run</strong></span> pour l'afficher puis cliquez sur
						le bouton <span class="emphasis"><strong>Run</strong></span> pour lancer l'ex&eacute;cution de
						votre Route. Vous pouvez &eacute;galement appuyer sur la touche <span class="emphasis"><strong>F6</strong></span> pour l'ex&eacute;cuter. </p><p>R&eacute;sultat : Le service est bien d&eacute;marr&eacute;. Vous pouvez y acc&eacute;der depuis votre navigateur Web
						en utilisant l'URL de l'endpoint du service, suivie de <code class="code">?wsdl</code>. </p><div class="mediaobject"><img src="../images/use_case_ccxf16.png"></div></li></ol></div></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch-messaging.html">Pr&eacute;c&eacute;dent</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="ch-messaging.html">Niveau sup&eacute;rieur</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="cDataset.html">Suivant</a></td></tr><tr><td width="40%" align="left" valign="top">Chapitre&nbsp;3.&nbsp;Composants Messaging&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="bk-tos-esb-mediationcomponents-rg-fr..html">Sommaire</a></td><td width="40%" align="right" valign="top">&nbsp;cDataset</td></tr></table></div></body></html>